%nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
  .container
    %a.navbar-brand{:href => "#"} Jus'DaGist
    %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-target" => "#navbarSupportedContent", "data-toggle" => "collapse", :type => "button"}
      %span.navbar-toggler-icon
    #navbarSupportedContent.collapse.navbar-collapse
      %ul.navbar-nav.mr-auto
        -if user_signed_in?
          %li.nav-item{class: (params[:controller] == 'gists') ? 'active' : ''}
            %a.nav-link{:href => gists_path}
              All Gists
              %span.sr-only
                = (params[:controller] == 'gists') ? '(current)' : ''
      %ul.navbar-nav.ml-auto
        - if user_signed_in?
          %li.nav-item.dropdown
            %a#navbarDropdown.nav-link.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :href => "#", :role => "button"}
              =image_tag gravatar_image_url(current_user.email, size: 40), height: 25, width: 25, class: "rounded"
            .dropdown-menu.dropdown-menu-right{"aria-labelledby" => "navbarDropdown"}
              %a.dropdown-item{:href => edit_user_registration_path} Settings
              .dropdown-divider
              = link_to 'Sign Out', destroy_user_session_path, method: :delete, class: 'dropdown-item'
        - else
          %li.nav-item
            = link_to 'Log In', new_user_session_path, class: 'nav-link'
          %li.nav-item
            = link_to 'Sign Up', new_user_registration_path, class: 'nav-link'

      -#<li class="nav-item dropdown">
      -#  <%= link_to root_path, id: "navbar-dropdown", class: "nav-link dropdown-toggle", data: { toggle: "dropdown" }, aria: { haspopup: true, expanded: false } do %>
      -#    <%= image_tag gravatar_image_url(current_user.email, size: 40), height: 20, width: 20, class: "rounded" %>
      -#  <% end %>
      -#  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbar-dropdown">
      -#    <% if current_user.admin? %>
      -#      <%= link_to "Admin Area", admin_root_path, class: "dropdown-item" %>
      -#    <% end %>
      -#    <%= link_to "Settings", edit_user_registration_path, class: "dropdown-item" %>
      -#    <div class="dropdown-divider"></div>
      -#    <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "dropdown-item" %>
      -#  </div>
      -#</li>
